# 06ì¥ ë°˜ë³µê¸°ì™€ ìƒì„±ê¸°

<details><summary>Table of Contents</summary>

-   06-1 ë°˜ë³µê¸° ì´í•´í•˜ê¸° [:link:](#06-1-ë°˜ë³µê¸°-ì´í•´í•˜ê¸°)
    -   ë°˜ë³µê¸°ì™€ ë°˜ë³µê¸° ì œê³µì [:link:](#ë°˜ë³µê¸°ì™€-ë°˜ë³µê¸°-ì œê³µì)
    -   ë°˜ë³µê¸°ëŠ” ì™œ í•„ìš”í•œê°€? [:link:](#ë°˜ë³µê¸°ëŠ”-ì™œ-í•„ìš”í•œê°€)
    -   for...of êµ¬ë¬¸ê³¼ [Symbol.iterator] ë©”ì„œë“œ [:link:](#forof-êµ¬ë¬¸ê³¼-symboliterator-ë©”ì„œë“œ)
    -   Iterable\<T>ì™€ Iterator\<T> ì¸í„°í˜ì´ìŠ¤ [:link:](#iterabletì™€-iteratort-ì¸í„°í˜ì´ìŠ¤)
-   06-2 ìƒì„±ê¸° ì´í•´í•˜ê¸° [:link:](#06-2-ìƒì„±ê¸°-ì´í•´í•˜ê¸°)
    -   Javascriptì™€ Typescriptì˜ ìƒì„±ê¸° [:link:](#javascriptì™€-typescriptì˜-ìƒì„±ê¸°)
    -   setInterval í•¨ìˆ˜ì™€ ìƒì„±ê¸°ì˜ ìœ ì‚¬ì„± [:link:](#setinterval-í•¨ìˆ˜ì™€-ìƒì„±ê¸°ì˜-ìœ ì‚¬ì„±)
    -   function\* í‚¤ì›Œë“œ [:link:](#function-í‚¤ì›Œë“œ)
    -   yield í‚¤ì›Œë“œ [:link:](#yield-í‚¤ì›Œë“œ)
    -   ë°˜ë³µê¸° ì œê³µìì˜ ë©”ì„œë“œë¡œ ë™ì‘í•˜ëŠ” ìƒì„±ê¸° êµ¬í˜„ [:link:](#ë°˜ë³µê¸°-ì œê³µìì˜-ë©”ì„œë“œë¡œ-ë™ì‘í•˜ëŠ”-ìƒì„±ê¸°-êµ¬í˜„)
    -   yield\* í‚¤ì›Œë“œ [:link:](#yield2)
    -   yield ë°˜í™˜ê°’ [:link:](#yield-ë°˜í™˜ê°’)

</details>

## 06-1 ë°˜ë³µê¸° ì´í•´í•˜ê¸°

### ë°˜ë³µê¸°ì™€ ë°˜ë³µê¸° ì œê³µì

ë°°ì—´ì„ ë°˜ë³µí•  ë•Œ `for...in`ê³¼ `for...of` êµ¬ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<br/>
ì´ ì¤‘ `for...of` êµ¬ë¬¸ì€ ì•„ë˜ì²˜ëŸ¼ ë°°ì—´ì— ë‹´ê¸´ ê°’ì„ ì°¨ë¡€ë¡œ ì–»ëŠ”ë° ì“°ì¸ë‹¤.<br/>

```typescript
const numArray: number[] = [1, 2, 3];

for (let value of numArray) {
    console.log(value); // 1  2 3
}

const strArray: string[] = ["Hello", "World", "!"];

for (let value of strArray) {
    console.log(value); // Hello World !
}
```

`for...of` êµ¬ë¬¸ì€ ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œë„ **ë°˜ë³µê¸°**(**Iterator**)ë¼ëŠ” ì£¼ì œë¡œ ë³¼ ìˆ˜ ìˆë‹¤.<br/>
ëŒ€ë¶€ë¶„ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œ **ë°˜ë³µê¸°**ëŠ” ì•„ë˜ì™€ ê°™ì€ íŠ¹ì§•ì´ ìˆëŠ” ê°ì²´ë‹¤.<br/>

-   `next`ë¼ëŠ” ì´ë¦„ì˜ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.
-   `next`ë©”ì„œë“œëŠ” `value`ì™€ `done`ì´ë¼ëŠ” ë‘ ê°œì˜ ì†ì„±ì„ ê°€ì§„ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.<br/>

ì•„ë˜ì˜ ì½”ë“œì—ì„œ `createRangeIterable` í•¨ìˆ˜ëŠ” `next`ë©”ì„œë“œê°€ ìˆëŠ” ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.<br/>
ë”°ë¼ì„œ ì´ `createRangeIterable` í•¨ìˆ˜ëŠ” **ë°˜ë³µê¸°**ë¥¼ ì œê³µí•˜ëŠ” ì—­í• ì„ í•œë‹¤.<br/>

```typescript
export const createRangeIterable = (from: number, to: number) => {
    let currentValue = from;

    return {
        next() {
            const value = currentValue < to ? currentValue++ : undefined;
            const done = value == undefined;
            return { value, done };
        },
    };
};
```

ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¡œ `createRangeIterable` í•¨ìˆ˜ê°€ ì œê³µí•˜ëŠ” **ë°˜ë³µê¸°**ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<br/>

```typescript
import { createRangeIterable } from "./CreateRangeIterable";

const iterator = createRangeIterable(1, 3 + 1);

while (true) {
    const { value, done } = iterator.next();
    if (done) {
        break;
    }
    console.log(value); // 1 2 3
}
```

`createRangeIterable` í•¨ìˆ˜ í˜¸ì¶œë¡œ **ë°˜ë³µê¸°**ë¥¼ ì–»ì–´ `iterator` ë³€ìˆ˜ì— ì €ì¥í–ˆë‹¤.<br/>
**ë°˜ë³µê¸°**ëŠ” ì´ì™€ ê°™ì´ **ë°˜ë³µê¸° ì œê³µìë¥¼ í˜¸ì¶œí•´ì•¼ë§Œ** ì–»ì„ ìˆ˜ ìˆë‹¤.<br/>
`while`ë¬¸ì—ì„œëŠ” **ë°˜ë³µê¸°**ì˜ `next` ë©”ì„œë“œì˜ ë°˜í™˜ ê°’ì´ `done`ì´ `true`ì¼ë•Œ ê¹Œì§€ ë°˜ë³µí•œë‹¤.<br/>
ì´ë•Œ `next` ë©”ì„œë“œë¥¼ ë°˜ë³µ í˜¸ì¶œí•˜ë©´ì„œ **ë°˜ë³µê¸° ì œê³µì**ê°€ ì œê³µí•˜ëŠ” `value`ê°’ì„ ì–»ê²Œ ëœë‹¤.<br/>

### ë°˜ë³µê¸°ëŠ” ì™œ í•„ìš”í•œê°€?

ì•ì˜ ì˜ˆì œì˜ ì‹¤í–‰ ê²°ê³¼ëŠ” `1`ë¶€í„° `3`ê¹Œì§€ì˜ ì •ìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤.<br/>
ì¦‰ `next` ë©”ì„œë“œê°€ ë°˜ë³µ **í˜¸ì¶œë  ë•Œë§ˆë‹¤ ê°ê° ë‹¤ë¥¸ ê°’**ì´ ì¶œë ¥ëœë‹¤.<br/>
**ë°˜ë³µê¸° ì œê³µì**ê°€ ìƒì„±í•œ ê°’ì„ ë°°ì—´ì— ë‹´ì§€ ì•Šê³  ë§ˆì¹˜ `for`ë¬¸ì„ ëŒë©° ê°’ì„ ì¶œë ¥í•œ ê²ƒì²˜ëŸ¼ ë³´ì¸ë‹¤.<br/>
**ë°˜ë³µê¸° ì œê³µì**ëŠ” ì´ì²˜ëŸ¼ ì–´ë–¤ ë²”ìœ„ì˜ ê°’ì„ í•œêº¼ë²ˆì— ìƒì„±í•˜ì§€ ì•Šê³  **ê°’ì´ í•„ìš”í•  ë•Œë§Œ ìƒì„±**í•œë‹¤.<br/>

-   ê°’ì„ ë°°ì—´ì— ë‹´ëŠ” `range` í•¨ìˆ˜

```typescript
export const range = (from, to) =>
    from < to ? [from, ...range(from + 1, to)] : [];
```

`createRangeIterable` í•¨ìˆ˜ëŠ” ê°’ì´ í•„ìš”í•œ ì‹œì  ì¦‰ `next` ë©”ì„œë“œê°€ **í˜¸ì¶œë  ë•Œ ê°’ì„ ìƒì„±**í•œë‹¤.<br/>
í•˜ì§€ë§Œ `range` í•¨ìˆ˜ëŠ” ê°’ì´ í•„ìš”í•œ ì‹œì ë³´ë‹¤ ì´ì „ì— **ë¯¸ë¦¬ ëª¨ë“  ë°°ì—´ì˜ ê°’ì„ ìƒì„±**í•˜ê²Œ ëœë‹¤.<br/>
ë”°ë¼ì„œ ì‹œìŠ¤í…œ ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ ì¸¡ë©´ì—ì„œ `createRangeIterable` í•¨ìˆ˜ê°€ **ë©”ëª¨ë¦¬ë¥¼ ë” ì ê²Œ ì†Œëª¨**í•œë‹¤.<br/>

### for...of êµ¬ë¬¸ê³¼ [Symbol.iterator] ë©”ì„œë“œ

ìœ„ì— ì‘ì„±í•œ `range`í•¨ìˆ˜ëŠ” `for...of` êµ¬ë¬¸ì˜ `of` ë’¤ì— ì˜¬ ìˆ˜ ìˆë‹¤.<br/>

-   `range` í•¨ìˆ˜ë¥¼ `for...of` êµ¬ë¬¸ì— ì‚¬ìš©í•œ ì˜ˆì‹œ

```typescript
import { range } from "./Range";

for (let value of range(1, 3 + 1)) {
    console.log(value); // 1 2 3
}
```

-   `createRangeIterable` í•¨ìˆ˜ë¥¼ `for...of` êµ¬ë¬¸ì— ì‚¬ìš©í•œ ì˜ˆì‹œ

```typescript
import { createRangeIterable } from "./createRangeIterable";

const iterable = createRangeIterable(1, 3 + 1);

// Does not have [Symbol.iterator] method
for (let value of iterable) {
    console.log(value);
}
```

í•˜ì§€ë§Œ `createRangeIterable` í•¨ìˆ˜ë¥¼ `for...of` êµ¬ë¬¸ì— ì ìš©í•˜ë©´ ì•„ë˜ì˜ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.<br/>

<img src="./images/1.png" width="500" height="auto">

ì´ ì˜¤ë¥˜ëŠ” `createRangeIterable` í•¨ìˆ˜ë¥¼ ì•„ë˜ì˜ `RangeIterable` í´ë˜ìŠ¤ì²˜ëŸ¼ êµ¬í˜„í•´ì•¼í•œë‹¤ëŠ” ì˜ë¯¸ë‹¤.<br/>

-   `[Symbol.iterator]` ë©”ì„œë“œë¥¼ ê°–ëŠ” `RangeIterable` í´ë˜ìŠ¤ ì˜ˆì‹œ

```typescript
export class RangeIterable {
    constructor(public from: number, public to: number) {}
    [Symbol.iterator]() {
        const that = this;
        let currentValue = that.from;
        return {
            next() {
                const value =
                    currentValue < that.to ? currentValue++ : undefined;
                const done = value == undefined;
                return { value, done };
            },
        };
    }
}
```

`RangeIterable` í´ë˜ìŠ¤ëŠ” `[Symbol.iterator]` ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ê³  ìˆë‹¤.<br/>

-   `RangeIterable` í´ë˜ìŠ¤ë¥¼ `for...of` êµ¬ë¬¸ì— ì‚¬ìš©í•œ ì˜ˆì‹œ

```typescript
import { RangeIterable } from "./RangeIterable";

const iterator = new RangeIterable(1, 3 + 1);

for (let value of iterator) {
    console.log(value); // 1 2 3
}
```

`createRangeIterable` í•¨ìˆ˜ì™€ ë‹¬ë¦¬ `range` í•¨ìˆ˜ì²˜ëŸ¼ `for..of` êµ¬ë¬¸ì˜ `of` ë’¤ì— ì˜¬ ìˆ˜ ìˆë‹¤.<br/>

<img src="./images/2.png" width="400" height="auto">

ì •ìƒì ìœ¼ë¡œ `RangeIterable` í´ë˜ìŠ¤ê°€ ë§Œë“¤ì–´ë‚¸ ê°’ì„ ì¶œë ¥í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.<br/>

### Iterable\<T>ì™€ Iterator\<T> ì¸í„°í˜ì´ìŠ¤

TypescriptëŠ” **ë°˜ë³µê¸° ì œê³µì**ì— `Iterable<T>`ì™€ `Iterator<T>` **ì œë„¤ë¦­ ì¸í„°í˜ì´ìŠ¤**ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<br/>
`Iterable<T>`ëŠ” ìì‹ ì„ êµ¬í˜„í•˜ëŠ” í´ë˜ìŠ¤ê°€ `[Symbol.iterator]` ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤ëŠ” ê²ƒì„ ì•Œë ¤ì¤€ë‹¤.<br/>

```typescript
class êµ¬í˜„ í´ë˜ìŠ¤ implements Iterable<ìƒì„±í•  ê°’ì˜ íƒ€ì…> {}
```

ë˜í•œ `Iterator<T>`ëŠ” **ë°˜ë³µê¸°ê°€ ìƒì„±í•  ê°’ì˜ íƒ€ì…**ì„ ëª…í™•í•˜ê²Œ ì•Œë ¤ì¤€ë‹¤.<br/>

```typescript
[Symbol.iterator](): Iterator<ìƒì„±í•  ê°’ì˜ íƒ€ì…> {}
```

ì•„ë˜ì˜ ì½”ë“ ëŠ ë°˜ë³µê¸° ì œê³µìë¥¼ `Iterable<T>`ì™€ `Iterator<T>`ë¥¼ ì‚¬ìš©í•´ êµ¬í˜„í•œ ì˜ˆì‹œë‹¤.<br/>

-   `Iterable<T>`ì™€ `Iterator<T>`ë¥¼ ì‚¬ìš©í•œ ë°˜ë³µê¸° ì œê³µì ì˜ˆì‹œ

```typescript
export class StringIterable implements Iterable<string> {
    constructor(
        private strings: string[] = [],
        private currentIndex: number = 0
    ) {}
    [Symbol.iterator](): Iterator<string> {
        const that = this;
        let currentIndex = that.currentIndex,
            length = that.strings.length;

        const iterator: Iterator<string> = {
            next(): { value: string; done: boolean } {
                const value =
                    currentIndex < length
                        ? that.strings[currentIndex++]
                        : undefined;
                const done = value == undefined;
                return { value, done };
            },
        };
        return iterator;
    }
}
```

-   ì‘ì„±í•œ `StringIterable` í´ë˜ìŠ¤ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì˜ˆì‹œ

```typescript
import { StringIterable } from "./StringIterable";

for (let value of new StringIterable(["Hello", "World", "!"])) {
    console.log(value); // Hello World !
}
```

ìœ„ì˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ `StringIterable` í´ë˜ìŠ¤ì˜ `strings`ì— ë‹´ê¸´ ì•„ì´í…œì„ í•˜ë‚˜ì”© ì¶œë ¥í•œë‹¤.<br/>

[[ğŸ”ìœ„ë¡œê°€ê¸°]](#06ì¥-ë°˜ë³µê¸°ì™€-ìƒì„±ê¸°)&nbsp; / &nbsp;[[ğŸ”™ë’¤ë¡œê°€ê¸°]](https://github.com/alstn2468/DoIt_Typescript_Programming/blob/master/README.md)

## 06-2 ìƒì„±ê¸° ì´í•´í•˜ê¸°

### Javascriptì™€ Typescriptì˜ ìƒì„±ê¸°

### setInterval í•¨ìˆ˜ì™€ ìƒì„±ê¸°ì˜ ìœ ì‚¬ì„±

### function\* í‚¤ì›Œë“œ

### yield í‚¤ì›Œë“œ

### ë°˜ë³µê¸° ì œê³µìì˜ ë©”ì„œë“œë¡œ ë™ì‘í•˜ëŠ” ìƒì„±ê¸° êµ¬í˜„

### yield\* <span id="yield2">í‚¤ì›Œë“œ</span>

### yield ë°˜í™˜ê°’

[[ğŸ”ìœ„ë¡œê°€ê¸°]](#06ì¥-ë°˜ë³µê¸°ì™€-ìƒì„±ê¸°)&nbsp; / &nbsp;[[ğŸ”™ë’¤ë¡œê°€ê¸°]](https://github.com/alstn2468/DoIt_Typescript_Programming/blob/master/README.md)
