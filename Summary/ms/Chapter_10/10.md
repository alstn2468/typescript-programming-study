# 10ì¥ ì œë„¤ë¦­ í”„ë¡œê·¸ë˜ë°

<details><summary>Table of Contents</summary>

-   10-1 ì œë„¤ë¦­ íƒ€ì… ì´í•´í•˜ê¸° [:link:](#10-1-ì œë„¤ë¦­-íƒ€ì…-ì´í•´í•˜ê¸°)
    -   ì œë„¤ë¦­ íƒ€ì… [:link:](#ì œë„¤ë¦­-íƒ€ì…)
    -   ì œë„¤ë¦­ ì‚¬ìš©í•˜ê¸° [:link:](#ì œë„¤ë¦­-ì‚¬ìš©í•˜ê¸°)
-   10-2 ì œë„¤ë¦­ íƒ€ì… ì œì•½ [:link:](#10-2-ì œë„¤ë¦­-íƒ€ì…-ì œì•½)
    -   ì œë„¤ë¦­ íƒ€ì… ì œì•½ [:link:](#ì œë„¤ë¦­-íƒ€ì…-ì œì•½)
    -   new íƒ€ì… ì œì•½ [:link:](#new-íƒ€ì…-ì œì•½)
    -   ì¸ë±ìŠ¤ íƒ€ì… ì œì•½ [:link:](#ì¸ë±ìŠ¤-íƒ€ì…-ì œì•½)
-   10-3 ëŒ€ìˆ˜ ë°ì´í„° íƒ€ì… [:link:](#10-3-ëŒ€ìˆ˜-ë°ì´í„°-íƒ€ì…)
    -   ëŒ€ìˆ˜ ë°ì´í„° íƒ€ì… [:link:](#ëŒ€ìˆ˜-ë°ì´í„°-íƒ€ì…)
    -   í•©ì§‘í•© íƒ€ì… [:link:](#í•©ì§‘í•©-íƒ€ì…)
    -   êµì§‘í•© íƒ€ì… [:link:](#êµì§‘í•©-íƒ€ì…)
    -   í•©ì§‘í•© íƒ€ì… êµ¬ë¶„í•˜ê¸° [:link:](#í•©ì§‘í•©-íƒ€ì…-êµ¬ë¶„í•˜ê¸°)
    -   ì‹ë³„ í•©ì§‘í•© êµ¬ë¬¸ [:link:](#ì‹ë³„-í•©ì§‘í•©-êµ¬ë¬¸)
-   10-4 íƒ€ì… ê°€ë“œ [:link:](#10-4-íƒ€ì…-ê°€ë“œ)
    -   í´ë˜ìŠ¤ì™€ í•©ì§‘í•© íƒ€ì… [:link:](#í´ë˜ìŠ¤ì™€-í•©ì§‘í•©-íƒ€ì…)
    -   instanceof ì—°ì‚°ì [:link:](#instanceof-ì—°ì‚°ì)
    -   íƒ€ì… ê°€ë“œ [:link:](#íƒ€ì…ê°€ë“œ)
    -   is ì—°ì‚°ìë¥¼ í™œìš©í•œ ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ í•¨ìˆ˜ ì œì‘ [:link:](#is-ì—°ì‚°ìë¥¼-í™œìš©í•œ-ì‚¬ìš©ì-ì •ì˜-íƒ€ì…-ê°€ë“œ-í•¨ìˆ˜-ì œì‘)
-   10-5 F-ë°”ìš´ë“œ ë‹¤í˜•ì„± [:link:](#10-5-f-ë°”ìš´ë“œ-ë‹¤í˜•ì„±)
    -   í”„ë¡œì íŠ¸ êµ¬ì„± [:link:](#í”„ë¡œì íŠ¸-êµ¬ì„±)
    -   this íƒ€ì…ê³¼ F-ë°”ìš´ë“œ ë‹¤í˜•ì„± [:link:](#this-íƒ€ì…ê³¼-f-ë°”ìš´ë“œ-ë‹¤í˜•ì„±)
-   10-6 nullable íƒ€ì…ê³¼ í”„ë¡œê·¸ë¨ ì•ˆì •ì„± [:link:](#10-6-nullable-íƒ€ì…ê³¼-í”„ë¡œê·¸ë¨-ì•ˆì •ì„±)
    -   í”„ë¡œì íŠ¸ êµ¬ì„± [:link:](#project2)
    -   nullable íƒ€ì…ì´ë€? [:link:](#nullable-íƒ€ì…ì´ë€)
    -   ì˜µì…˜ ì²´ì´ë‹ ì—°ì‚°ì [:link:](#ì˜µì…˜-ì²´ì´ë‹-ì—°ì‚°ì)
    -   ë„ ë³‘í•© ì—°ì‚°ì [:link:](#ë„-ë³‘í•©-ì—°ì‚°ì)
    -   nullable íƒ€ì…ì˜ í•¨ìˆ˜í˜• ë°©ì‹ êµ¬í˜„ [:link:](#nullable-íƒ€ì…ì´ë€)
    -   Option íƒ€ì…ê³¼ ì˜ˆì™¸ ì²˜ë¦¬ [:link:](#option-íƒ€ì…ê³¼-ì˜ˆì™¸-ì²˜ë¦¬)

</details>

## 10-1 ì œë„¤ë¦­ íƒ€ì… ì´í•´í•˜ê¸°

### ì œë„¤ë¦­ íƒ€ì…

**ì œë„¤ë¦­ íƒ€ì…**ì€ ì¸í„°í˜ì´ìŠ¤ë‚˜, í´ë˜ìŠ¤, í•©ìˆ˜, íƒ€ì… ë³„ì¹­ ë“±ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ë‹¤.<br/>
í•´ë‹¹ ì‹¬ë³¼ì˜ íƒ€ì…ì„ ë¯¸ë¦¬ ì§€ì •í•˜ì§€ ì•Šê³  ë‹¤ì–‘í•œ íƒ€ì…ì— ëŒ€ì‘í•˜ë ¤ê³  í•  ë•Œ ì‚¬ìš©í•œë‹¤.<br/>

```typescript
interface IValuable<T> {
    value: T;
}
```

ìœ„ì˜ `IValueable` ì¸í„°í˜ì´ìŠ¤ëŠ” `T` íƒ€ì…ì˜ `value` ë¼ëŠ” ì†ì„±ì„ ê°–ëŠ”ë‹¤.<br/>
ìœ„ì™€ ê°™ì´ íƒ€ì…ì„ `string`, `number`ë“±ìœ¼ë¡œ ì •í•˜ì§€ ì•Šê³  `T`ë¡œ ì§€ì •í•´ **ì œë„¤ë¦­ íƒ€ì…**ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.<br/>
**ì œë„¤ë¦­ íƒ€ì…**ì„ ì¸í„°í˜ì´ì„œ ì§€ì •í•  ë•Œ ìœ„ì™€ ê°™ì´ ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ ë’¤ì— `<T>`ì™€ ê°™ì´ í‘œê¸°í•œë‹¤.<br/>

```typescript
function identity<T>(arg: T): T {
    return arg;
}

type IValuable<T> = {
    value: T;
};

class Valueable<T> {
    constructor(public value: T) {}
}
```

ìœ„ì˜ ì½”ë“œëŠ” í´ë˜ìŠ¤ì™€ í•¨ìˆ˜, íƒ€ì… ë³„ì¹­ì— ê°ê° **ì œë„¤ë¦­ íƒ€ì…**ì„ ì‚¬ìš©í•˜ëŠ” ì˜ˆì‹œë‹¤.<br/>

### ì œë„¤ë¦­ ì‚¬ìš©í•˜ê¸°

ì•„ë˜ì™€ ê°™ì´ `T` íƒ€ì…ì˜ `value` ì†ì„±ì„ ê°–ëŠ” `IValuable` ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‘ì„±í•œë‹¤.<br/>

-   `IValuable.ts`

```typescript
export interface IValuable<T> {
    value: T;
}
```

ì œë„¤ë¦­ ì¸í„°í˜ì´ìŠ¤ `IValuable<T>`ë¥¼ êµ¬í˜„í•˜ëŠ” **ì œë„¤ë¦­ í´ë˜ìŠ¤**ëŠ” íƒ€ì… ë³€ìˆ˜ `T`ë¥¼ ê°–ëŠ”ë‹¤.<br>
êµ¬í˜„í•œ **ì œë„¤ë¦­ í´ë˜ìŠ¤**ëŠ” ê°€ì§€ê³  ìˆëŠ” íƒ€ì… ë³€ìˆ˜ë¥¼ ì¸í„°í˜ì´ìŠ¤ì˜ ì œë„¤ë¦­ íƒ€ì… ë³€ìˆ˜ë¡œ ë„˜ê¸¸ ìˆ˜ ìˆë‹¤.<br/>

-   `Valuable.ts`

```typescript
import { IValuable } from "./IValuable";

export class Valuable<T> implements IValuable<T> {
    constructor(public value: T) {}
}

export { IValuable };
```

**ì œë„¤ë¦­ í•¨ìˆ˜**ëŠ” íƒ€ì… ë³€ìˆ˜ `T`ë¥¼ ì œë„¤ë¦­ ì¸í„°í˜ì´ìŠ¤ì˜ íƒ€ì… ë³€ìˆ˜ë¡œ ë„˜ê¸°ëŠ” í˜•íƒœë¡œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.<Br/>

-   `printValue.ts`

```typescript
import { IValuable, Valuable } from "./Valuable";

export const printValue = <T>(o: IValuable<T>): void => console.log(o.value);
export { IValuable, Valuable };
```

ì´ë ‡ê²Œ ë§Œë“  ì œë„¤ë¦­ í•¨ìˆ˜ `printValue`ëŠ” ì•„ë˜ ì²˜ëŸ¼ ë‹¤ì–‘í•œ íƒ€ì…ì„ ëŒ€ìƒìœ¼ë¡œ ë™ì‘í•  ìˆ˜ ìˆë‹¤.<br/>

-   `printValue-Test.ts`

```typescript
import { printValue, Valuable } from "./PrintValue";

printValue(new Valuable<number>(1)); // 1
printValue(new Valuable<boolean>(true)); // true
printValue(new Valuable<string>("hello")); // hello
printValue(
    new Valuable<number[]>([1, 2, 3])
); // [ 1, 2, 3 ]
```

ë˜í•œ ì•„ë˜ì™€ ê°™ì´ íƒ€ì… ë³€ìˆ˜ ë¶€ë¶„ì„ ìƒëµí•´ë„ ìŠ¤ìŠ¤ë¡œ ì¶”ë¡ í•´ ì œë„¤ë¦­ íƒ€ì…ì„ ì°¾ì•„ë‚¸ë‹¤.<br/>

-   `printValue-Test2.ts`

```typescript
import { printValue, Valuable } from "./PrintValue";

printValue(new Valuable(1)); // 1
printValue(new Valuable(true)); // true
printValue(new Valuable("hello")); // hello
printValue(new Valuable([1, 2, 3])); // [ 1, 2, 3 ]
```

ì œë„¤ë¦­ íƒ€ì…ì„ ì§€ì •í•˜ì§€ ì•Šì•„ë„ ë™ì¼í•œ ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.<br/>

[[ğŸ”ìœ„ë¡œê°€ê¸°]](#10ì¥-ì œë„¤ë¦­-í”„ë¡œê·¸ë˜ë°)&nbsp; / &nbsp;[[ğŸ”™ë’¤ë¡œê°€ê¸°]](https://github.com/alstn2468/DoIt_Typescript_Programming/blob/master/README.md)

## 10-2 ì œë„¤ë¦­ íƒ€ì… ì œì•½

### ì œë„¤ë¦­ íƒ€ì… ì œì•½

**ì œë„¤ë¦­ íƒ€ì… ì œì•½**ì€ íƒ€ì… ë³€ìˆ˜ì— ì ìš©í•  ìˆ˜ ìˆëŠ” **íƒ€ì…ì˜ ë²”ìœ„ë¥¼ ì œí•œí•˜ëŠ” ê¸°ëŠ¥**ì„ í•œë‹¤.<br/>
Typescriptì—ì„œ ì œë„¤ë¦­ í•¨ìˆ˜ì˜ íƒ€ì…ì„ ì œí•œí•˜ê³  ì‹¶ì„ ë•ŒëŠ” ì•„ë˜ì™€ ê°™ì€ êµ¬ë¬¸ì„ ì‚¬ìš©í•œë‹¤.<br/>

```typescript
<ìµœì¢… íƒ€ì…1 extend íƒ€ì…1, ìµœì¢… íƒ€ì…2 extend íƒ€ì…2>(a: ìµœì¢… íƒ€ì…1, b: ìµœì¢… íƒ€ì…2, ...) {}
```

ì•„ë˜ì˜ `IValuable<T>`ëŠ” `T` íƒ€ì… `value` ì†ì„±ì„ ê°–ëŠ” ì œë„¤ë¦­ ì¸í„°í˜ì´ìŠ¤ë‹¤.<br/>

-   `IValuable.ts`

```typescript
export interface IValuable<T> {
    value: T;
}
```

ì•„ë˜ì˜ `printValueT` í•¨ìˆ˜ëŠ” ì•ì˜ `printValue` í•¨ìˆ˜ì™€ êµ¬í˜„ ë°©ì‹ì´ ì¡°ê¸ˆ ë‹¤ë¥´ë‹¤.<br/>
`printValueT` í•¨ìˆ˜ëŠ” **ì œë„¤ë¦­ íƒ€ì… ì œì•½** êµ¬ë¬¸ì„ ì‚¬ìš©í•´ êµ¬í˜„ë˜ì–´ ìˆë‹¤.<br/>

-   `printValueT.ts`

```typescript
import { IValuable, Valuable } from "./Valuable";

export const printValueT = <Q, T extends IValuable<Q>>(o: T): void =>
    console.log(o.value);
export { IValuable, Valuable };
```

`printValue`ì™€ ë¹„êµí•˜ì—¬ ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ì„ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì œì•½í•˜ëŠ”ì§€ë§Œ ë‹¤ë¥´ë‹¤.<br/>

```typescript
import { printValueT } from "./printValueT";
import { Valuable } from "./Valuable";

printValueT(new Valuable(1)); // 1
printValueT({ value: true }); // true
```

ì¶œë ¥ ê²°ê³¼ëŠ” `printValue` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œ ê²ƒê³¼ ë™ì¼í•œ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.<br/>
ìœ„ì˜ `printValueT` í•¨ìˆ˜ëŠ” ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•˜ë©´ ì•ˆëœë‹¤.<br/>

```typescript
export const printValueT = <T extends IValuable<T>>(o: T) =>
    console.log(o.value);
```

`o`ì˜ `T` ì…ì¥ì—ì„œ íƒ€ì… `T`ëŠ” `IValuable<T>`ì´ë¯€ë¡œ `IValuable <IValuable<T>>`ì™€ ê°™ì´ í•´ì„ë˜ê¸° ë•Œë¬¸ì´ë‹¤.<br/>

### new íƒ€ì… ì œì•½

íŒ©í† ë¦¬ í•¨ìˆ˜ëŠ” `new` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì„ í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì˜ë¯¸í•œë‹¤.<br/>
íŒ©í† ë¦¬ í•¨ìˆ˜ëŠ” ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì´ ë³µì¡í•  ë•Œ ë‹¨ìˆœí™”í•˜ë ¤ëŠ” ëª©ì ìœ¼ë¡œ êµ¬í˜„í•œë‹¤.<br/>

```typescript
const create = <T>(type: T): T => new type();
```

ìœ„ ì½”ë“œì—ì„œ `create` í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ `type`ì€ ì‹¤ì œë¡œ **íƒ€ì…**ì´ë‹¤.<br/>
ë”°ë¼ì„œ `type` ë³€ìˆ˜ì˜ íƒ€ì… ì£¼ì„ìœ¼ë¡œ ëª…ì‹œí•œ `T`ëŠ” **íƒ€ì…ì˜ íƒ€ì…**ì— í•´ë‹¹í•œë‹¤.<br/>

<img src="./images/1.png" width="350" height="auto">

í•˜ì§€ë§Œ TypescriptëŠ” íƒ€ì…ì˜ íƒ€ì…ì„ í—ˆìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ìœ„ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.<br/>
Typescriptì˜ ì°½ì‹œìì¸ ì•„ë„¤ë¥´ìŠ¤ í•˜ì¼ìŠ¤ë² ë¥´ëŠ” C# ì–¸ì–´ì˜ ì°½ì‹œìì´ê¸°ë„ í•˜ë‹¤.<br/>
ì•„ë˜ ì½”ë“œì—ì„œ `{new(): T}` êµ¬ë¬¸ì€ C#ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” êµ¬ë¬¸ê³¼ ë§¤ìš° ìœ ì‚¬í•˜ë‹¤.<br/>

```typescript
const create = <T extends { new (): T }>(type: T): T => new type();
```

í•˜ì¼ìŠ¤ë² ë¥´ëŠ” íƒ€ì…ì˜ íƒ€ì…ì— í•´ë‹¹í•˜ëŠ” êµ¬ë¬¸ì„ ë§Œë“¤ì§€ ì•Šê³  C# ì–¸ì–´ì—ì„œì˜ êµ¬ë¬¸ì„ ë¹Œë ¤ ì‚¬ìš©í•˜ì˜€ë‹¤.<br/>
`create` í•¨ìˆ˜ì˜ íƒ€ì… ì œì•½ êµ¬ë¬¸ì€ `{}`ë¡œ `new()` ë¶€ë¶„ì„ ê°ì‹¸ì„œ ë©”ì„œë“œ í˜•íƒœë¡œ í‘œí˜„í–ˆë‹¤.<br/>
ì´ êµ¬ë¬¸ì€ ì•„ë˜ì™€ ê°™ì´ `{}`ë¥¼ ì—†ì•¤ ì¢€ ë” ê°„ê²°í•œ ë¬¸ë²•ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ë„ ìˆë‹¤.<br/>

```typescript
const create = <T>(type: new () => T): T => new type();
```

ê²°ë¡ ì ìœ¼ë¡œ `{ new(): T }`ì™€ `new() =>` ëŠ” ê°™ì€ ì˜ë¯¸ë¥¼ ê°–ëŠ”ë‹¤.<br/>
`new` ì—°ì‚°ìë¥¼ `type`ì— ì ìš©í•˜ë©° `type`ì˜ ìƒì„±ìë¡œ ì¸ìë¥¼ ì „ë‹¬í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•œë‹¤.<br/>

```typescript
const create = <T>(type: { new (...args): T }, ...args): T => new type(...args);
```

ì•„ë˜ ì½”ë“œëŠ” `Date`ì™€ `Point` ì¸ìŠ¤í„´ìŠ¤ë¥¼ **íƒ€ì… ì œì•½**ì„ ì„¤ì •í•œ `create`í•¨ìˆ˜ë¡œ ìƒì„±í•˜ëŠ” ì˜ˆì‹œë‹¤.<br/>

-   `create.ts`

```typescript
export const create = <T>(type: { new (...args): T }, ...args): T =>
    new type(...args);
```

-   `create-Test.ts`

```typescript
import { create } from "./create";

class Point {
    constructor(public x: number, public y: number) {}
}
[create(Date), create(Point, 0, 0)].forEach((s) => console.log(s));
// 2020-07-30T06:16:53.363Z
// Point { x: 0, y: 0 }
```

ìœ„ì˜ `create` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ ë³´ë©´ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.<br/>

### ì¸ë±ìŠ¤ íƒ€ì… ì œì•½

ê°ì²´ì˜ ì¼ì • ì†ì„±ë“¤ë§Œ ì¶”ë ¤ ì¢€ ë” ë‹¨ìˆœí•œ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì•¼ í•  ë•Œê°€ ìˆë‹¤.<br/>
`pick` í•¨ìˆ˜ëŠ” `obj` ê°ì²´ì—ì„œ `name`ê³¼ `age` ë‘ ì†ì„±ë§Œ ì¶”ì¶œí•´ ê°„ë‹¨í•œ í˜•íƒœë¥¼ ë§Œë“œë ¤ í•œë‹¤.<br/>

```typescript
const obj = { name: "Jane", age: 22, city: "Seoul", country: "Korea" };
pick(obj, ["name", "age"]);
```

ìœ„ì—ì„œ ì‚¬ìš©í•œ `pick` í•¨ìˆ˜ëŠ” ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.<br/>

-   `pick.ts`

```typescript
export const pick = (obj, keys) =>
    keys
        .map((key) => ({ [key]: obj[key] }))
        .reduce((result, value) => ({ ...result, ...value }), {});
```

ì•„ë˜ì˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ `pick` í•¨ìˆ˜ê°€ `name`ê³¼ `age` ì†ì„±ê³¼ ê°’ì„ ì¶”ì¶œí•´ì£¼ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.<br/>

-   `pick-Test.ts`

```typescript
import { pick } from "./pick";

const obj = { name: "Jane", age: 22, city: "Seoul", country: "Korea" };
console.log(pick(obj, ["name", "age"])); // { name: 'Jane', age: 22 }
console.log(pick(obj, ["name", "agge"])); //{ name: 'Jane', agge: undefined }
```

í•˜ì§€ë§Œ `pick(obj, ["name", "agge"])`ì™€ ê°™ì´ ì˜¤íƒ€ê°€ ë°œìƒí•˜ë©´ ì—‰ëš±í•œ ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤.<br/>
TypescriptëŠ” ì´ëŸ¬í•œ ìƒí™©ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ `keyof T` í˜•íƒœë¡œ **íƒ€ì… ì œì•½**ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.<br/>
`keyof T` í˜•íƒœ ê°™ì€ íƒ€ì… ì œì•½ì„ **ì¸ë±ìŠ¤ íƒ€ì… ì œì•½**ì´ë¼ê³  í•œë‹¤.<br/>

```typescript
<T, K extends keyof T>
```

ì•„ë˜ ì½”ë“œì—ì„œ `pick` í•¨ìˆ˜ëŠ” `keys` ë§¤ê°œë³€ìˆ˜ì— ê°ê° `T`ì™€ `K`ë¼ëŠ” íƒ€ì… ë³€ìˆ˜ë¥¼ ì ìš©í–ˆë‹¤.<br/>

```typescript
export const pick = <T, K>(obj: Text, keys: K[]) =>
    keys
        .map((key) => ({ [key]: obj[key] }))
        .reduce((result, value) => ({ ...result, ...value }), {});
```

í•˜ì§€ë§Œ ì´ ì½”ë“œëŠ” `K` íƒ€ì…ì— íƒ€ì… ì œì•½ì„ ì„¤ì •í•˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.<br/>

<img src="./images/2.png" width="400" height="auto"><br/>
<img src="./images/3.png" width="400" height="auto">

ìœ„ì™€ ê°™ì€ ì˜¤ë¥˜ë¥¼ í•´ê²°í•˜ë ¤ë©´ íƒ€ì… `K`ê°€ `T`ì˜ ì†ì„± ì´ë¦„ì´ë¼ëŠ” ê²ƒì„ ì•Œë ¤ì¤˜ì•¼ í•œë‹¤.<br/>
`keyof T` êµ¬ë¬¸ìœ¼ë¡œ íƒ€ì… `K`ê°€ íƒ€ì… `T`ì˜ ì†ì„± ì´ë¦„ì´ë¼ê³  **ì¸ë±ìŠ¤ íƒ€ì… ì œì•½**ì„ ì„¤ì •í•œë‹¤.<br/>

-   `pickTwo.ts`

```typescript
export const pickTwo = <T, K extends keyof T>(obj: T, keys: K[]) =>
    keys
        .map((key) => ({ [key]: obj[key] }))
        .reduce((result, value) => ({ ...result, ...value }), {});
```

ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ **ì¸ë±ìŠ¤ íƒ€ì… ì œì•½**ì„ ì„¤ì •í•œ `pickTwo` í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.<br/>

-   `pickTwo-Test.ts`

```typescript
import { pickTwo } from "./pickTwo";

const obj = { name: "Jane", age: 22, city: "Seoul", country: "Korea" };
console.log(pickTwo(obj, ["name", "age"])); // { name: 'Jane', age: 22 }
console.log(pickTwo(obj, ["name", "agge"])); // Error
```

`pickTwo(obj, ["name", "agge"])` ê°™ì´ ì˜ëª» ì‚¬ìš©í–ˆì„ë•Œ ì‘ì„± ì‹œì ì— ì˜¤ë¥˜ë¥¼ íƒì§€í•  ìˆ˜ ìˆë‹¤.<br/>

<img src="./images/4.png" width="450" height="auto">

ìœ„ì™€ ê°™ì´ ì»´íŒŒì¼ ì´ì „ì— `obj`ì˜ ì†ì„±ì´ ì•„ë‹Œ `agge`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.<br/>

[[ğŸ”ìœ„ë¡œê°€ê¸°]](#10ì¥-ì œë„¤ë¦­-í”„ë¡œê·¸ë˜ë°)&nbsp; / &nbsp;[[ğŸ”™ë’¤ë¡œê°€ê¸°]](https://github.com/alstn2468/DoIt_Typescript_Programming/blob/master/README.md)

## 10-3 ëŒ€ìˆ˜ ë°ì´í„° íƒ€ì…

### ëŒ€ìˆ˜ ë°ì´í„° íƒ€ì…

ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œ **ADT**ëŠ” **ì¶”ìƒ ë°ì´í„° íƒ€ì…**ì„ ì˜ë¯¸í•œë‹¤.<br/>
í•˜ì§€ë§Œ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œëŠ” **ëŒ€ìˆ˜ ë°ì´í„° íƒ€ì…**ì„ ì˜ë¯¸í•œë‹¤.<br/>
Typescriptì—ì„œ **ëŒ€ìˆ˜ ë°ì´í„° íƒ€ì…**ì€ **í•©ì§‘í•© íƒ€ì…**ê³¼ **êµì§‘í•© íƒ€ì…**ì´ ìˆë‹¤.<br/>
ê°ì²´ì§€í–¥ ì–¸ì–´ëŠ” **ìƒì†**ì— ê¸°ë°˜ì„ ë‘ê³  íƒ€ì…ì„ ë¶„ë¥˜í•˜ëŠ” ê²½í–¥ì´ ìˆë‹¤.<br/>
ìƒì†ì—ë§Œ ì˜ì¡´í•˜ë©´ `true`ì™€ `false`ë‹¨ ë‘ê°€ì§€ ê°’ì„ ê°–ëŠ” `boolean`ê³¼ ê°™ì€ íƒ€ì…ì„ ë§Œë“¤ê¸° ì–´ë µë‹¤.<br/>
ì´ ë•Œë¬¸ì— í•¨ìˆ˜í˜• ì–¸ì–´ë“¤ì€ ìƒì†ì— ì˜ì¡´í•˜ëŠ” íƒ€ì…ë³´ë‹¤ **ëŒ€ìˆ˜ ë°ì´í„° íƒ€ì…**ì„ ì„ í˜¸í•œë‹¤.<br/>

### í•©ì§‘í•© íƒ€ì…

**í•©ì§‘í•© íƒ€ì…**ì€ **ë˜ëŠ”**ì˜ ì˜ë¯¸ì¸ `|` ê¸°í˜¸ë¡œ ë‹¤ì–‘í•œ íƒ€ì…ì„ ì—°ê²°í•´ì„œ ë§Œë“  íƒ€ì…ì„ ë§í•œë‹¤.<br/>
ì•„ë˜ ì½”ë“œì—ì…” ë³€ìˆ˜ `ns`ì˜ íƒ€ì…ì¸ `NumberOrString`ì€ `number`ë‚˜ `string` íƒ€ì…ì´ë‹¤.<br/>

-   `UnionType.ts`

```typescript
type NumberOrString = number | string;
let ns: NumberOrString = 1;
ns = "Hello";
```

ë”°ë¼ì„œ ìœ„ì™€ ê°™ì´ `1`ê³¼ ê°™ì€ ìˆ˜ì™€ `hello`ì™€ ê°™ì€ ë¬¸ìì—´ì„ ëª¨ë‘ ë‹´ì„ ìˆ˜ ìˆë‹¤.<br/>

### êµì§‘í•© íƒ€ì…

**êµì§‘í•© íƒ€ì…**ì€ **ê·¸ë¦¬ê³ **ì˜ ì˜ë¯¸ì¸ `&` ê¸°í˜¸ë¡œ ë‹¤ì–‘í•œ íƒ€ì…ì„ ì—°ê²°í•´ì„œ ë§Œë“  íƒ€ì…ì„ ë§í•œë‹¤.<br/>
**êµì§‘í•© íƒ€ì…**ì˜ ëŒ€í‘œì ì¸ ì˜ˆì‹œëŠ” ë‘ ê°œì˜ ê°ì²´ë¥¼ í†µí•©í•´ì„œ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤.<br/>
ì•„ë˜ ì½”ë“œì—ì„œ `mergeObjects` í•¨ìˆ˜ëŠ” íƒ€ì… `T`ì™€ `U` ê°ì²´ë¥¼ ê²°í•©í•´ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“ ë‹¤.<br/>

-   `mergeObjects.ts`

```typescript
export const mergeObjects = <T, U>(a: T, b: U): T & U => ({ ...a, ...b });
```

-   `mergeObjects-Test.ts`

```typescript
import { mergeObjects } from "./mergeObjects";

type INameable = { name: string };
type IAgeable = { age: number };

const nameAndAge: INameable & IAgeable = mergeObjects(
    { name: "Jack" },
    { age: 32 }
);
console.log(nameAndAge); // { name: 'Jack', age: 32 }
```

`INameable` íƒ€ì… ê°ì²´ì™€ `IAgeable` íƒ€ì… ê°ì²´ì„ `mergeObjects` í•¨ìˆ˜ë¡œ ê²°í•©í•œ ì˜ˆì‹œë‹¤.<br/>
`mergeObjects` í•¨ìˆ˜ë¥¼ ì´ìš©í•´ `INameable & IAgeable` íƒ€ì…ì˜ ë³€ìˆ˜ì¸ `nameAndAge` ê°ì²´ì— ì €ì¥í•œë‹¤.<br/>

### í•©ì§‘í•© íƒ€ì… êµ¬ë¶„í•˜ê¸°

ì•„ë˜ì™€ ê°™ì¸ ì¸í„°í˜ì´ìŠ¤ê°€ ì„¸ ê°œ ìˆë‹¤ê³  ê°€ì •í•œë‹¤.<br/>

```typescript
interface ISquare {
    size: number;
}
interface IRectangle {
    width: number;
    height: number;
}
interface ICircle {
    radius: number;
}
```

ìœ„ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“  ê°ê°ì˜ ê°ì²´ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.<br/>

```typescript
const square: ISquare = { size: 10 };
const rectangle: IRectangle = { width: 4, height: 5 };
const circle: ICircle = { radius: 10 };
```

ì´ ê°ì²´ë“¤ì„ ëª¨ë‘ ë°›ì•„ ë©´ì ì„ ê³„ì‚°í•´ ì£¼ëŠ” í•¨ìˆ˜ì¸ `calcArea` í•¨ìˆ˜ë¥¼ ìƒê°í•´ ë³¼ ìˆ˜ ìˆë‹¤.<br/>

```typescript
console.log(calcArea(square));
console.log(calcArea(rectangle));
console.log(calcArea(circle));
```

í•¨ìˆ˜ê°€ ìœ„ì™€ ê°™ì´ ë™ì‘í•˜ë ¤ë©´ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì€ `ISquare`, `IRectangle`, `ICircle`ì˜ í•©ì§‘í•©ì´ì–´ì•¼ í•œë‹¤.<br/>

```typescript
type IShape = ISquare | IRectangle | ICircle;

export const calcArea = (shape: IShape): number => {
    // shape ê°ì²´ì˜ êµ¬ì²´ì ì¸ íƒ€ì…ì„ ì•Œ ìˆ˜ ì—†ìŒ
    return 0;
};
```

í•˜ì§€ë§Œ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì€ `shape`ê°€ **ì–´ë–¤ íƒ€ì…ì˜ ê°ì²´ì¸ì§€ êµ¬ë¶„í•  ìˆ˜ ì—†ì–´** ê³„ì‚°ì„ í•  ìˆ˜ ì—†ë‹¤.<br/>
TypescriptëŠ” ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë„ë¡ **ì‹ë³„ í•©ì§‘í•©**ì´ë¼ëŠ” êµ¬ë¬¸ì„ ì œê³µí•œë‹¤.<br/>

### ì‹ë³„ í•©ì§‘í•© êµ¬ë¬¸

**ì‹ë³„ í•©ì§‘í•© êµ¬ë¬¸**ì„ ì‚¬ìš©í•˜ë ¤ë©´ **í•©ì§‘í•©**ì„ êµ¬ì„±í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë“¤ì´ ê°™ì€ ì†ì„±ì„ ê°€ì§€ê³  ìˆì–´ì•¼ í•œë‹¤.<br/>
ì•„ë˜ ì½”ë“œì—ì„œ `ISquare`, `IRectangle`, `ICircle`ì€ ëª¨ë‘ `tag`ë¼ëŠ” ì´ë¦„ì˜ ê³µí†µ ì†ì„±ì´ ìˆë‹¤.<br/>

-   `IShape.ts`

```typescript
export interface ISquare {
    tag: "square";
    size: number;
}

export interface IRectangle {
    tag: "rectangle";
    width: number;
    height: number;
}
export interface ICircle {
    tag: "circle";
    radius: number;
}

export type IShape = ISquare | IRectangle | ICircle;
```

ìœ„ì™€ ê°™ì´ ê³µí†µ ì†ì„±ì´ ìˆì„ ë•Œ `area` í•¨ìˆ˜ì˜ `switch` êµ¬ë¬¸ê³¼ ê°™ì´ **ì‹ë³„ í•©ì§‘í•©**ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<br/>

-   `calcArea.ts`

```typescript
import { IShape } from "./IShape";

export const calcArea = (shape: IShape): number => {
    switch (shape.tag) {
        case "square":
            return shape.size * shape.size;
        case "rectangle":
            return shape.width * shape.height;
        case "circle":
            return Math.PI * shape.radius * shape.radius;
    }
    return 0;
};
```

ë§Œì•½ `tag`ì™€ ê°™ì´ ê³µí†µ ì†ì„±ì´ ì—†ë‹¤ë©´ `IShape`ì˜ íƒ€ì…ì„ êµ¬ë¶„í•  ë°©ë²•ì´ ì—†ë‹¤.<br/>
ì•„ë˜ ì½”ë“œë¡œ **ì‹ë³„ í•©ì§‘í•© êµ¬ë¬¸**ì„ ì‚¬ìš©í•œ `calcArea` í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆë‹¤<br/>

-   `calcArea-Test.ts`

```typescript
import { calcArea } from "./calcArea";
import { IRectangle, ISquare, ICircle } from "./IShape";

const square: ISquare = { tag: "square", size: 10 };
const rectangle: IRectangle = { tag: "rectangle", width: 4, height: 5 };
const circle: ICircle = { tag: "circle", radius: 10 };

console.log(calcArea(square)); // 100
console.log(calcArea(rectangle)); // 20
console.log(calcArea(circle)); // 314.1592653589793
```

ìœ„ì™€ ê°™ì´ **í•©ì§‘í•© íƒ€ì…**ì¸ `IShape`ì˜ ìƒì„¸ íƒ€ì…ì„ ì‹ë³„í•´ ê°’ì´ ê³„ì‚°ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.<br/>

[[ğŸ”ìœ„ë¡œê°€ê¸°]](#10ì¥-ì œë„¤ë¦­-í”„ë¡œê·¸ë˜ë°)&nbsp; / &nbsp;[[ğŸ”™ë’¤ë¡œê°€ê¸°]](https://github.com/alstn2468/DoIt_Typescript_Programming/blob/master/README.md)

## 10-4 íƒ€ì… ê°€ë“œ

### í´ë˜ìŠ¤ì™€ í•©ì§‘í•© íƒ€ì…

ì•„ë˜ì™€ ê°™ì´ ë‘ ê°œì˜ í´ë˜ìŠ¤ê°€ ìˆë‹¤ê³  ê°€ì •í•œë‹¤.<br/>

-   `BirdAndFish.ts`

```typescript
export class Bird {
    fly() {
        console.log("I'm flying.");
    }
}

export class Fish {
    swim() {
        console.log("I'm swimming");
    }
}
```

ì•„ë˜ì™€ ê°™ì´ `flyOrSwim`ê³¼ ê°™ì€ í•¨ìˆ˜ë¥¼ êµ¬í˜„í•  ë•Œ ë§¤ê°œë³€ìˆ˜ `o`ëŠ” `Bird`ì´ê±°ë‚˜ `Fish`ë‹¤.<br/>

```typescript
import { Bird, Fish } from "./BirdAndFish";

export const flyOrSwim = (o: Bird | Fish): void => {
    // o.fly() or o.swim() ??
};
```

ë”°ë¼ì„œ ì´í›„ ì‹¤í–‰í•´ì•¼í•  í•¨ìˆ˜ê°€ `o.fly()`ì¸ì§€ `o.swim()`ì¸ì§€ ì•Œ ìˆ˜ ì—†ë‹¤.<br/>
ì¦‰ í•©ì§‘í•© íƒ€ì… `(Bird | Fish)`ì˜ ê°ì²´ê°€ êµ¬ì²´ì ìœ¼ë¡œ ë¬´ì—‡ì¸ì§€ ì•Œì•„ì•¼ í•œë‹¤.<br/>

### instanceof ì—°ì‚°ì

JavascriptëŠ” ë‘ ê°œì˜ í”¼ì—°ì‚°ìê°€ í•„ìš”í•œ `instanceof` ë¼ëŠ” ì´ë¦„ì˜ ì—°ì‚°ìë¥¼ ì œê³µí•œë‹¤.<br/>

```javascript
ê°ì²´ instanceof íƒ€ì…;
```

`instanceof` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ ì• `flyOrSwim` í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.<br/>

```typescript
import { Bird, Fish } from "./BirdAndFish";

export const flyOrSwim = (o: Bird | Fish): void => {
    if (o instanceof Bird) {
        (o as Bird).fly();
    } else if (o instanceof Fish) {
        (<Fish>o).swim();
    }
};
```

`o as Bird`ë‚˜ `<Fish>o`ì™€ ê°™ì´ ë§¤ê°œë³€ìˆ˜ `o`ì— **íƒ€ì… ë‹¨ì–¸**ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<br/>

### íƒ€ì… ê°€ë“œ

Typescriptì—ì„œ `instanceof` ì—°ì‚°ìëŠ” Javascriptì™€ ë‹¤ë¥´ê²Œ **íƒ€ì… ê°€ë“œ** ê¸°ëŠ¥ì´ ìˆë‹¤.<br/>
**íƒ€ì… ê°€ë“œ**ëŠ” íƒ€ì…ì„ ë³€í™˜í•˜ì§€ ì•Šì€ ì½”ë“œ ë•Œë¬¸ì— í”„ë¡œê·¸ë¨ì´ **ë¹„ì •ìƒ ì¢…ë£Œë˜ëŠ” ìƒí™©ì„ ë³´í˜¸**í•œë‹¤.<br/>
ì•„ë˜ `flyOrSwim` í•¨ìˆ˜ëŠ” `instanceof` ì—°ì‚°ìì˜ **íƒ€ì… ê°€ë“œ**ë¥¼ ì‚¬ìš©í•´ `o`ì˜ íƒ€ì…ì„ ì „í™˜í•˜ì§€ ì•Šê³  ì‚¬ìš©í•œë‹¤.<br/>

```typescript
import { Bird, Fish } from "./BirdAndFish";

export const flyOrSwim = (o: Bird | Fish): void => {
    if (o instanceof Bird) {
        o.fly();
    } else if (o instanceof Fish) {
        o.swim();
    }
};
```

TypescriptëŠ” `o instanceof Bird`ê°€ `true`ì´ë©´ ë³€ìˆ˜ `o`ë¥¼ ìë™ìœ¼ë¡œ `Bird` íƒ€ì… ê°ì²´ë¡œ ì „í™˜í•œë‹¤.<br/>
ë§ˆì°¬ê°€ì§€ë¡œ `o instanceof Fish`ê°€ `true`ì´ë©´ ìë™ìœ¼ë¡œ `Fish` íƒ€ì… ê°ì²´ë¡œ ì „í™˜í•œë‹¤.<br/>

```typescript
import { flyOrSwim } from "./flyOrSwim";
import { Bird, Fish } from "./BirdAndFish";

[new Bird(), new Fish()].forEach(flyOrSwim);
// I'm flying.
// I'm swimming
```

ìœ„ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•´ ì‹¤í–‰í•´ë³´ë©´ **íƒ€ì… ë‹¨ì–¸**ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ì •ìƒ ì‘ë™í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.<br/>

### is ì—°ì‚°ìë¥¼ í™œìš©í•œ ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ í•¨ìˆ˜ ì œì‘

**íƒ€ì… ê°€ë“œ** ê¸°ëŠ¥ì„ í•˜ëŠ” `instanceof` ì²˜ëŸ¼ ë™ì‘í•˜ëŠ” í•¨ìˆ˜ ë˜í•œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.<br/>
**íƒ€ì… ê°€ë“œ** ê¸°ëŠ¥ì„ í•˜ëŠ” í•¨ìˆ˜ëŠ” í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì… ë¶€ë¶„ì— `is`ë¼ëŠ” ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.<br/>
`is` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ëŠ” êµ¬ë¬¸ì€ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•œë‹¤.<br/>

```typescript
ë³€ìˆ˜ is íƒ€ì…
```

ì•„ë˜ì˜ `isFlyable` í•¨ìˆ˜ëŠ” ë°˜í™˜ íƒ€ì…ì´ `o is Bird` ì´ë¯€ë¡œ **ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ í•¨ìˆ˜**ë‹¤.<br/>

-   `isFlyable.ts`

```typescript
import { Bird, Fish } from "./BirdAndFish";

export const isFlyable = (o: Bird | Fish): o is Bird => {
    return o instanceof Bird;
};
```

ë˜í•œ ì•„ë˜ì˜ `isSwimmalbe` í•¨ìˆ˜ ë˜í•œ **ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ í•¨ìˆ˜**ë‹¤.<br/>

-   `isSwimmable.ts`

```typescript
import { Bird, Fish } from "./BirdAndFish";

export const isSwimmable = (o: Bird | Fish): o is Fish => {
    return o instanceof Fish;
};
```

**ì‚¬ìš©ì íƒ€ì… ê°€ë“œ í•¨ìˆ˜**ëŠ” `if`ë¬¸ì—ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.<br/>
ì•„ë˜ `swimOrFly` í•¨ìˆ˜ëŠ” ë‘ ê°œì˜ `if` ë¬¸ì—ì„œ ì‘ì„±í•œ **ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ í•¨ìˆ˜**ë¥¼ ì‚¬ìš©í•œë‹¤.<br/>

-   `swimOrFly.ts`

```typescript
import { Bird, Fish } from "./BirdAndFish";
import { isSwimmable } from "./isSwimmable";
import { isFlyable } from "./isFlyable";

export const swimOrFly = (o: Bird | Fish): void => {
    if (isSwimmable(o)) {
        o.swim();
    } else if (isFlyable(o)) {
        o.fly();
    }
};
```

ì•„ë˜ì™€ ê°™ì´ `swimOrFly` í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br/>

-   `swimOrFly-Test.ts`

```typescript
import { swimOrFly } from "./swimOrFly";
import { Bird, Fish } from "./BirdAndFish";

[new Bird(), new Fish()].forEach(swimOrFly);
// I'm flying.
// I'm swimming
```

`instanceof`ë¥¼ ì‚¬ìš©í•œ **íƒ€ì… ê°€ë“œ**ì™€ ë™ì¼í•˜ê²Œ ì‘ë™í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.<br/>

[[ğŸ”ìœ„ë¡œê°€ê¸°]](#10ì¥-ì œë„¤ë¦­-í”„ë¡œê·¸ë˜ë°)&nbsp; / &nbsp;[[ğŸ”™ë’¤ë¡œê°€ê¸°]](https://github.com/alstn2468/DoIt_Typescript_Programming/blob/master/README.md)

## 10-5 F-ë°”ìš´ë“œ ë‹¤í˜•ì„±

### í”„ë¡œì íŠ¸ êµ¬ì„±

ì•„ë˜ì™€ ê°™ì´ Typescriptë¥¼ ì‚¬ìš©í•˜ëŠ” node.js í”„ë¡œì íŠ¸ë¥¼ êµ¬ì„±í•œë‹¤.<br/>

```shell
> npm init --y
> npm i -D typescript ts-node @types/node
> mkdir -p src/test
> mkdir src/classes
> mkdir src/interfaces
```

`tsconfig.json` íŒŒì¼ì€ ì•„ë˜ì™€ ê°™ì´ ì„¤ì •í•œë‹¤.<br/>

```typescript
{
    "compilerOptions": {
        "module": "CommonJS",
        "esModuleInterop": true,
        "target": "es5",
        "moduleResolution": "node",
        "outDir": "dist",
        "baseUrl": ".",
        "sourceMap": true,
        "downlevelIteration": true,
        "noImplicitAny": false,
        "paths": {
            "*": ["node_modules/*"]
        }
    },
    "include": ["src/**/*"]
}
```

ê¸°ì¡´ì— ì‚¬ìš©í–ˆë˜ `tsconfig.json` íŒŒì¼ ì„¤ì •ë“¤ê³¼ ë™ì¼í•˜ê²Œ ì„¤ì •í•˜ì˜€ë‹¤.<br/>

### this íƒ€ì…ê³¼ F-ë°”ìš´ë“œ ë‹¤í˜•ì„±

Typescriptì—ì„œ `this` í‚¤ì›Œë“œëŠ” **íƒ€ì…**ìœ¼ë¡œë„ ì‚¬ìš©ëœë‹¤.<br/>
`this` ê°€ **íƒ€ì…**ìœ¼ë¡œ ì‚¬ìš©ë˜ë©´ ê°ì²´ì§€í–¥ ì–¸ì–´ì—ì„œ ì˜ë¯¸í•˜ëŠ” **ë‹¤í˜•ì„±** íš¨ê³¼ê°€ ë‚˜íƒ€ë‚œë‹¤.<br/>
**ì¼ë°˜ì ì¸ ë‹¤í˜•ì„±ê³¼ êµ¬ë¶„**í•˜ê¸° ìœ„í•´ `this` íƒ€ì…ìœ¼ë¡œ ì¸í•œ **ë‹¤í˜•ì„±**ì„ **F-ë°”ìš´ë“œ ë‹¤í˜•ì„±**ì´ë¼ í•œë‹¤.<br/>

#### (1) F-ë°”ìš´ë“œ íƒ€ì…

**F-ë°”ìš´ë“œ íƒ€ì…**ì´ë€ ìì‹ ì„ êµ¬í˜„í•˜ê±°ë‚˜ ìƒì†í•˜ëŠ” ì„œë¸Œíƒ€ì…ì„ í¬í•¨í•˜ëŠ” íƒ€ì…ì„ ë§í•œë‹¤.<br/>
ì•„ë˜ì˜ `IValueProvider<T>` íƒ€ì…ì€ ìì‹ ì„ ìƒì†í•˜ëŠ” íƒ€ì…ì´ í¬í•¨ë˜ì–´ ìˆì§€ ì•Šì€ **ì¼ë°˜ íƒ€ì…**ì´ë‹¤.<br/>

-   `interfaces/IValueProvider.ts`

```typescript
export interface IValueProvider<T> {
    value(): T;
}
```

ë°˜ë©´ì— ì•„ë˜ì˜ `IAddable<T>`ëŠ” `add` ë©”ì„œë“œê°€ `this`íƒ€ì…ì„ ë°˜í™˜í•˜ëŠ” **F-ë°”ìš´ë“œ íƒ€ì…**ì´ë‹¤.<br/>

-   `interfaces/IAddable.ts`

```typescript
export interface IAddable<T> {
    add(value: T): this;
}
```

ì•„ë˜ì˜ `IMultiplyalbe<T>` ë˜í•œ ë©”ì„œë“œì˜ ë°˜í™˜ íƒ€ì…ì´ `this`ì´ë¯€ë¡œ **F-ë°”ìš´ë“œ íƒ€ì…**ì´ë‹¤.<br/>

-   `interfaces/IMultiplyable.ts`

```typescript
export interface IMultiplyable<T> {
    multiply(value: T): this;
}
```

ì‘ì„±í•œ ì¸í„°í˜ì´ìŠ¤ë“¤ì„ í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì•„ë˜ì™€ ê°™ì´ `index.ts` íŒŒì¼ì„ ì‘ì„±í•œë‹¤.<br/>

-   `interfaces/index.ts`

```typescript
import { IAddable } from "./IAddable";
import { IMultiplyable } from "./IMultiplyable";
import { IValueProvider } from "./IValueProvider";

export { IValueProvider, IMultiplyable, IAddable };
```

ì´ì œ ì´ ì„¸ ê°œì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” `Calculator`ì™€ `StringComposer` í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤.<br/>
ìœ„ì˜ ë‘ í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•˜ë©´ì„œ `this` íƒ€ì…ì´ í•„ìš”í•œ ì´ìœ ì— ëŒ€í•´ ì•Œ ìˆ˜ ìˆë‹¤.<Br/>

#### (2) IValueProvider<T> ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„

ì•„ë˜ `Calculator` í´ë˜ìŠ¤ëŠ” `IValueProvider<T>` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  ìˆë‹¤.<br/>

-   `classes/Calculator.ts`

```typescript
import { IValueProvider } from "../interfaces";

export class Calculator implements IValueProvider<number> {
    constructor(private _value: number = 0) {}
    value(): number {
        return this._value;
    }
}
```

ì´ í´ë˜ìŠ¤ëŠ” `_value` ì†ì„±ì„ `private`ë¡œ ë§Œë“¤ì–´ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì†ì„±ì„ ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤.<br/>
ë”°ë¼ì„œ `Calculator`ì˜ `_value` ì†ì„±ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” `value()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.<br/>
ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì•„ë˜ì˜ `StringComposer` ë˜í•œ `IValueProvider<T>`ë¥¼ êµ¬í˜„í•œë‹¤.<br/>

-   `classes/StringComposer.ts`

```typescript
import { IValueProvider } from "../interfaces";

export class StringComposer implements IValueProvider<string> {
    constructor(private _value: string = "") {}
    value(): string {
        return this._value;
    }
}
```

`StringComposer` í´ë˜ìŠ¤ ì—­ì‹œ `value()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ì•¼ `_value` ì†ì„±ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.<br/>

#### (3) IAddable<T>ì™€ IMultiplyable<T> ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„

ì•„ë˜ì˜ `Calculator` í´ë˜ìŠ¤ëŠ” `IValueProvider<T>`ì™€ `IAddable<T>`ë¥¼ êµ¬í˜„í•œë‹¤.<br/>

-   `classes/Calculator.ts`

```typescript
import { IValueProvider, IAddable } from "../interfaces";

export class Calculator implements IValueProvider<number>, IAddable<number> {
    constructor(private _value: number = 0) {}
    value(): number {
        return this._value;
    }
    add(value: number): this {
        this._value = this._value + value;
        return this;
    }
}
```

`Calculator` í´ë˜ìŠ¤ì˜ `add` ë©”ì„œë“œëŠ” **ë©”ì„œë“œ ì²´ì¸**ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ í´ë˜ìŠ¤ì˜ `this`ë¥¼ ë°˜í™˜í•œë‹¤.<br/>
`IMultiplyable<T>` ì¸í„°í˜ì´ìŠ¤ë„ ê°™ì€ ë°©ë²•ìœ¼ë¡œ `Calculator` í´ë˜ìŠ¤ì— êµ¬í˜„í•œë‹¤.<br/>

-   `classes/Calculator.ts`

```typescript
import { IValueProvider, IAddable, IMultiplyable } from "../interfaces";

export class Calculator
    implements IValueProvider<number>, IAddable<number>, IMultiplyable<number> {
    constructor(private _value: number = 0) {}
    value(): number {
        return this._value;
    }
    add(value: number): this {
        this._value = this._value + value;
        return this;
    }
    multiply(value: number): this {
        this._value = this._value * value;
        return this;
    }
}
```

ì•„ë˜ì™€ ê°™ì´ `test` í´ë”ì— `Calculator` í´ë˜ìŠ¤ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.<Br/>

-   `test/Calculator-Test.ts`

```typescript
import { Calculator } from "../classes/Calculator";

const value = new Calculator(1).add(2).add(3).multiply(4).value();
console.log(value); // 24
```

`Calculator`ì˜ `add`ì™€ `muliply`ëŠ” `this`ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ **ë©”ì„œë“œ ì²´ì¸** ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<br/>
`value`ëŠ” ë©”ì„œë“œ ì²´ì¸ì´ ì•„ë‹ˆë¼ `private`ë¡œ ì§€ì •ëœ ì†ì„±ì¸ `_value`ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ ëª©ì ì´ë‹¤.<br/>
ë”°ë¼ì„œ ìœ„ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ ê°™ì´ ë©”ì„œë“œ ì²´ì¸ì—ì„œ **ê°€ì¥ ë§ˆì§€ë§‰ì— í˜¸ì¶œ**í•´ì•¼ í•œë‹¤.<br/>
`StringComposer`ë„ `Calculator`ë¥¼ êµ¬í˜„í–ˆë˜ ë°©ì‹ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•´ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.<br/>

-   `classes/StringComposer.ts`

```typescript
import { IValueProvider, IAddable, IMultiplyable } from "../interfaces";

export class StringComposer
    implements IValueProvider<string>, IAddable<string>, IMultiplyable<number> {
    constructor(private _value: string = "") {}
    value(): string {
        return this._value;
    }
    add(value: string): this {
        this._value = this._value.concat(value);
        return this;
    }
    multiply(repeat: number): this {
        const value = this.value();

        for (let index = 0; index < repeat; index++) {
            this.add(value);
        }

        return this;
    }
}
```

`StringComposer` í´ë˜ìŠ¤ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ ë˜í•œ `Calculator` ë•Œì™€ ë¹„ìŠ·í•˜ê²Œ ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.<br>

-   `test/StringComposer-Test.ts`

```typescript
import { StringComposer } from "../classes/StringComposer";

const value = new StringComposer("hello")
    .add(" ")
    .add("world")
    .add("!")
    .multiply(3)
    .value();

console.log(value); // hello world!hello world!hello world!hello world!
```

`add` ë©”ì„œë“œë‚˜ `multiply` ë©”ì„œë“œëŠ” ìì‹ ì„ êµ¬í˜„í•œ í´ë˜ìŠ¤ì— ë”°ë¼ ë°˜í™˜ íƒ€ì…ì´ ë³€í•œë‹¤.<br/>
ì¦‰, ë°˜í™˜ íƒ€ì… `this`ëŠ” `Calculator`ê°€ ë˜ê¸°ë„ í•˜ê³  `StringComposer`ê°€ ë˜ê¸°ë„ í•œë‹¤.<br/>
ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì„ **F-ë°”ìš´ë“œ ë‹¤í˜•ì„±**ì´ë¼ê³  í•œë‹¤.<br/>

[[ğŸ”ìœ„ë¡œê°€ê¸°]](#10ì¥-ì œë„¤ë¦­-í”„ë¡œê·¸ë˜ë°)&nbsp; / &nbsp;[[ğŸ”™ë’¤ë¡œê°€ê¸°]](https://github.com/alstn2468/DoIt_Typescript_Programming/blob/master/README.md)

## 10-6 nullable íƒ€ì…ê³¼ í”„ë¡œê·¸ë¨ ì•ˆì •ì„±

### í”„ë¡œì íŠ¸ <span id="project2">êµ¬ì„±</span>

ì•„ë˜ì™€ ê°™ì´ Typescriptë¥¼ ì‚¬ìš©í•˜ëŠ” node.js í”„ë¡œì íŠ¸ë¥¼ êµ¬ì„±í•œë‹¤.<br/>

```shell
> npm init --y
> npm i -D typescript ts-node @types/node
> mkdir -p src/option
> mkdir src/test
```

`tsconfig.json` íŒŒì¼ì€ ì•„ë˜ì™€ ê°™ì´ ì„¤ì •í•œë‹¤.<br/>

```typescript
{
    "compilerOptions": {
        "module": "CommonJS",
        "esModuleInterop": true,
        "target": "es5",
        "moduleResolution": "node",
        "outDir": "dist",
        "baseUrl": ".",
        "sourceMap": true,
        "downlevelIteration": true,
        "noImplicitAny": false,
        "paths": {
            "*": ["node_modules/*"]
        }
    },
    "include": ["src/**/*"]
}
```

ê¸°ì¡´ì— ì‚¬ìš©í–ˆë˜ `tsconfig.json` íŒŒì¼ ì„¤ì •ë“¤ê³¼ ë™ì¼í•˜ê²Œ ì„¤ì •í•˜ì˜€ë‹¤.<br/>

### nullable íƒ€ì…ì´ë€?

Javascriptì™€ TypescriptëŠ” ë³€ìˆ˜ê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šìœ¼ë©´ `undefined`ë¼ëŠ” ê°’ì„ ê¸°ë³¸ìœ¼ë¡œ ì§€ì •í•œë‹¤.<br/>
Javascriptì™€ Typescriptì—ëŠ” `undefined`ì™€ ì‚¬ì‹¤ìƒ ê°™ì€ ì˜ë¯¸ì¸ `null`ì´ ìˆë‹¤.<br/>
Typescriptì—ì„œ `undefined`ì˜ íƒ€ì…ì€ `undefined`ê³  `null`ì˜ íƒ€ì…ì€ `null`ì´ë‹¤.<br/>

```typescript
let u: undefined = undefined;
let n: null = null;
u = null;
n = undefined;
u = 1; // ERROR
n = 1; // ERROR
```

ìœ„ì™€ ê°™ì´ `undefined`ì™€ `null`ì€ ì‚¬ì‹¤ìƒ ê°™ê¸° ë•Œë¬¸ì— ì„œë¡œ í˜¸í™˜ì´ ëœë‹¤.<br/>
í•˜ì§€ë§Œ `undefined`ì™€ `null` íƒ€ì… ë³€ìˆ˜ì—ëŠ” ë‘ ê°’ ì´ì™¸ì— `1`ê³¼ ê°™ì€ ê°’ì€ ì„¤ì •í•  ìˆ˜ ì—ˆë‹¤.<br/>
`undefined`ì™€ `null` íƒ€ì…ì„ `nullable`ì´ë¼ê³  í•˜ë©° ì½”ë“œë¡œ ì•„ë˜ì™€ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.<br/>

-   `option/nullable.ts`

```typescript
export type nullable = undefined | null;
export const nullable: nullable = undefined;
```

ì´ `nullable` íƒ€ì…ë“¤ì€ í”„ë¡œê·¸ë¨ì´ ë™ì‘í•  ë•Œ í”„ë¡œê·¸ë¨ì„ **ë¹„ì •ìƒ ì¢…ë£Œì‹œí‚¤ëŠ” ì£¼ìš” ì›ì¸**ì´ ëœë‹¤.<br/>
`nullable` íƒ€ì…ì´ í”„ë¡œê·¸ë¨ì˜ ì•ˆì •ì„±ì„ í•´ì³ í•¨ìˆ˜í˜• ì–¸ì–´ë“¤ì„ ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.<br/>

### ì˜µì…˜ ì²´ì´ë‹ ì—°ì‚°ì

ë³€ìˆ˜ê°€ ì„ ì–¸ë˜ê³  ì–´ë–¤ ê°’ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ì§€ ì•Šìœ¼ë©´ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œì—ëŠ” ë¬¸ì œê°€ ì—†ë‹¤.<br/>

```typescript
interface IPerson {
    name: string;
    age?: number;
}
let person: IPerson;
console.log(person.name);
```

í•˜ì§€ë§Œ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ëŸ°íƒ€ì„ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©° ë¹„ì •ìƒ ì¢…ë£Œëœë‹¤.<br/>

<img src="./images/5.png" width="400" height="auto">

ì´ëŸ° ì˜¤ë¥˜ëŠ” í”„ë¡œê·¸ë¨ì˜ ì•ˆì •ì„±ì„ í•´ì³ **ì˜µì…˜ ì²´ì´ë‹ ì—°ì‚°ì**ë‚˜ **ë„ ë³‘í•© ì—°ì‚°ì**ë¥¼ ì œê³µí•˜ê¸°ë„ í•œë‹¤.<br/>
JavascriptëŠ” ìµœê·¼ì— `?`ê¸°í˜¸ì™€ `.`ê¸°í˜¸ë¥¼ ì—°ì´ì„œ ì“°ëŠ” `?.` ì—°ì‚°ìë¥¼ í‘œì¤€ìœ¼ë¡œ ì±„íƒí–ˆë‹¤.<br/>
ë˜í•œ TypescriptëŠ” `?.` ì—°ì‚°ìë¥¼ 3.7.2ë²„ì „ë¶€í„° ì§€ì›í•˜ê¸° ì‹œì‘í–ˆë‹¤.<br/>

-   `OptionalChaningOperator.ts`

```typescript
export interface IPerson {
    name: string;
    age?: number;
}

let person: IPerson;
console.log(person?.name);
```

`person.name`ê³¼ ê°™ì´ ì‚¬ìš©í•˜ë©´ ëŸ°íƒ€ì„ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ë§Œ `person?.name`ì€ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.<br/>
**ì˜µì…˜ ì²´ì´ë‹ ì—°ì‚°ì**ëŠ” **ì„¸ì´í”„ ë‚´ë² ê²Œì´ì…˜ ì—°ì‚°ì**ë¼ê³ ë„ í•œë‹¤.<br/>
ì•„ë˜ ì½”ë“œëŠ” ë³µì¡í•˜ê²Œ ê°’ì„ í™•ì¸í•˜ëŠ” ë¡œì§ì€ **ì˜µì…˜ ì²´ì´ë‹ ì—°ì‚°ì**ë¡œ ê°„ë‹¨íˆ êµ¬í˜„í•œ ì˜ˆì‹œë‹¤.<br/>

-   `SafeNavigation.ts`

```typescript
export type ICoordinates = { longitude: number };
export type ILocation = { country: string; coords?: ICoordinates };
export type IPerson = { name: string; location?: ILocation };

let person: IPerson = { name: "Jack" };
let longitude = person?.location?.coords?.longitude;
console.log(longitude); // undefined

if (person && person.location && person.location.coords) {
    longitude = person.location.coords.longitude;
}
```

ìœ„ì™€ ê°™ì´ `person && person.location && person.location.coords`ê°™ì´ ë³µì¡í•œ ë¡œì§ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.<br/>

### ë„ ë³‘í•© ì—°ì‚°ì

JavascriptëŠ” **ì˜µì…˜ ì²´ì´ë‹ ì—°ì‚°ì**ë¥¼ í‘œì¤€ìœ¼ë¡œ ì±„íƒí•˜ë©° ì´ì™€ ë™ì‹œì— `??` ì—°ì‚°ìë„ ì±„íƒí•˜ì˜€ë‹¤.<br/>
`??` ì—°ì‚°ìëŠ” **ë„ ë³‘í•© ì—°ì‚°ì**ì´ë©° Typescript ì—­ì‹œ 3.7.2 ë²„ì „ë¶€í„° ì§€ì›í•˜ê¸° ì‹œì‘í–ˆë‹¤.<br/>
ì•„ë˜ ì½”ë“œëŠ” **ì˜µì…˜ ì²´ì´ë‹ ì—°ì‚°ì**ì™€ **ë„ ë³‘í•© ì—°ì‚°ì**ë¥¼ ê°™ì´ ì‚¬ìš©í•˜ëŠ” ì˜ˆì‹œë‹¤.<br/>

-   `NullishCoalescingOperator.ts`

```typescript
export type ICoordinates = { longitude: number };
export type ILocation = { country: string; coords?: ICoordinates };
export type IPerson = { name: string; location?: ILocation };

let person: IPerson = { name: "Jack" };
let longitude = person?.location?.coords.longitude ?? 0;
console.log(longitude); // 0
```

**ì˜µì…˜ ì²´ì´ë‹ ì—°ì‚°ì**ê°€ `undefined`ê°€ ë˜ë©´ **ë„ ë³‘í•© ì—°ì‚°ì**ê°€ ë™ì‘í•´ `undefined`ëŒ€ì‹  `0`ì„ ë°˜í™˜í•œë‹¤.<Br/>

### nullable íƒ€ì…ì˜ í•¨ìˆ˜í˜• ë°©ì‹ êµ¬í˜„

í•¨ìˆ˜í˜• í”„ë¡œê·¸ë¨ì´ ì–¸ì–´ì¸ í•˜ìŠ¤ì¼ˆì—ëŠ” `Maybe`ë€ íƒ€ì…ì´ ì¡´ì¬í•œë‹¤.<br/>
ìŠ¤ì¹¼ë¼ ì–¸ì–´ëŠ” `Maybe` íƒ€ì…ì˜ ì´ë¦„ì„ `Option`ìœ¼ë¡œ ë°”ê¿”ì„œ ì œê³µí•œë‹¤.<br/>
ìŠ¤ìœ„í”„íŠ¸ë‚˜, ì½”í‹€ë¦°, ëŸ¬ìŠ¤íŠ¸ì™€ ê°™ì¸ ì–¸ì–´ë“¤ë„ `Option`, `Optional`ì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì œê³µí•œë‹¤.<br/>
ìŠ¤ì¹¼ë¼ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ëŠ” `Option` íƒ€ì…ì€ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.<br/>

-   `option/Option.ts`

```typescript
import { Some } from "./Some";
import { None } from "./None";

export class Option {
    private constructor() {}
    static Some<T>(value: T) {
        return new Some<T>(value);
    }
    static None = new None();
}

export { Some, None };
```

`Option` í´ë˜ìŠ¤ëŠ” **ìƒì„±ì**ê°€ `private`ë¡œ ì„ ì–¸ë˜ì—ˆìœ¼ë¯€ë¡œ `new` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.<br/>

<img src="./images/6.png" width="450" height="auto">

`Option` íƒ€ì… ê°ì²´ëŠ” ì•„ë˜ì™€ ê°™ì´ `Option.Some(ê°’)` ë˜ëŠ” `Option.None` í˜•íƒœë¡œë§Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.<br/>

```typescript
let s: Option = Option.Some(1);
let n: Option = Option.None();
```

`Option.Some` ì •ì  ë©”ì„œë“œëŠ” `Some`ì´ë¼ëŠ” í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.<br/>
`Option.None` ì •ì  ì†ì„±ì€ `None`ì´ë¼ëŠ” í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë‹¤.<br/>
ì •ìƒì ì¸ ê°’ì„ ê°€ì§€ë©´ `Option.Some(1)`, `Option.Some("Hello")` ì²˜ëŸ¼ `Some` íƒ€ì…ì— ê°’ì„ ì €ì¥í•œë‹¤.<br/>
`undefined`ë‚˜ `null`ê³¼ ê°™ì€ ë¹„ì •ìƒì ì¸ ê°’ì€ ëª¨ë‘ `None` íƒ€ì…ìœ¼ë¡œ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤.<br/>
ì´ì²˜ëŸ¼ `Some`ê³¼ `None`ìœ¼ë¡œ ê°’ì„ ë¯¸ë¦¬ ë¶„ë¦¬í•˜ë©´ **ì˜µì…˜ ì²´ì´ë‹ ì—°ì‚°ì**ë‚˜ **ë„ ë³‘í•© ì—°ì‚°ì**ê°€ í•„ìš” ì—†ë‹¤.<br/>

#### (1) IValuable, IFunctor ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„

`Some`ê³¼ `None`ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ì•„ë˜ê°™ì´ `IValuable<T>`ì™€ `IFunctor<T>` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤.<br/>

-   `option/IValuable.ts`

```typescript
export interface IValuable<T> {
    getOrElse(defaultValue: T);
}
```

ìœ„ì˜ `IValuable` ì œë„¤ë¦­ ì¸í„°í˜ì´ìŠ¤ ì„ ì–¸ì€ `getOrElse`ë¼ëŠ” ì´ë¦„ì˜ ë©”ì„œë“œë¥¼ ì„ ì–¸í•˜ê³  ìˆë‹¤.<br/>
`IValuable`ì„ êµ¬í˜„í•˜ëŠ” `Some`ê³¼ `None`ì€ `getOrElse` ë©”ì„œë“œë¥¼ ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼í•œë‹¤.<br/>

-   `option/IFunctor.ts`

```typescript
export interface IFunctor<T> {
    map<U>(fn: (value: T) => U);
}
```

í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì„¸ë„ˆëŠ” `map`ì´ë¼ëŠ” ë©”ì„œë“œê°€ ìˆëŠ” íƒ€ì…ì„ **í‘í„°**ë¼ê³  ë¶€ë¥¸ë‹¤.<br/>
ìœ„ëŠ” Typescriptë¡œ ì„ ì–¸í•œ **í‘í„°** ì¸í„°í˜ì´ìŠ¤ë‹¤.<br/>
`Some`ê³¼ `None` í´ë˜ìŠ¤ëŠ” `IValuable`ê³¼ `IFunctor` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  ìˆëŠ”ë‹¤.<br/>
ê·¸ëŸ¬ë¯€ë¡œ ë‘ í´ë˜ìŠ¤ëŠ” `getOrElse`ì™€ `map`ì´ë¼ëŠ” ì´ë¦„ì˜ ë©”ì„œë“œë¥¼ ì œê³µí•´ì•¼ í•œë‹¤.<br/>

#### (2) Some í´ë˜ìŠ¤ êµ¬í˜„

ì•„ë˜ì˜ `Some` í´ë˜ìŠ¤ëŠ” `getOrElse`ì™€ `map` ë©”ì„œë“œê°€ ì •ìƒì ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ ìˆë‹¤.<br/>

-   `option/Some.ts`

```typescript
import { IValuable } from "./IValuable";
import { IFunctor } from "./IFunctor";

export class Some<T> implements IValuable<T>, IFunctor<T> {
    constructor(private value: T) {}
    getOrElse(defalutValue: T) {
        return this.value ?? defalutValue;
    }
    map<U>(fn: (T) => U) {
        return new Some<U>(fn(this.value));
    }
}
```

í´ë˜ìŠ¤ì˜ `value` ì†ì„±ì€ `private`ì´ë¯€ë¡œ `getOrElse` ë©”ì„œë“œë¥¼ í†µí•´ ê°’ì„ ì–»ì–´ì•¼ í•œë‹¤.<br/>
ë˜í•œ ì‚¬ìš©ìê°€ `value` ê°’ì„ ë³€ê²½í•˜ê¸° ìœ„í•´ì„œëŠ” í•­ìƒ `map` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.<br/>

#### (3) None í´ë˜ìŠ¤ êµ¬í˜„

ì•„ë˜ì˜ `None` í´ë˜ìŠ¤ë„ `getOrElse`ì™€ `map` ë©”ì„œë“œê°€ ì •ìƒì ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ ìˆë‹¤.<br/>

-   `option/None.ts`

```typescript
import { nullable } from "./nullable";
import { IValuable } from "./IValuable";
import { IFunctor } from "./IFunctor";

export class None implements IValuable<nullable>, IFunctor<nullable> {
    getOrElse<T>(defalutValue: T | null) {
        return defalutValue;
    }
    map<U>(fn: (T) => U) {
        return new None();
    }
}
```

í•˜ì§€ë§Œ `Some`ê³¼ ë‹¤ë¥´ê²Œ `None`ì˜ `map` ë©”ì„œë“œëŠ” ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.<br/>
`None`ì€ `nullable` íƒ€ì…ì˜ ê°’ì„ ì˜ë¯¸í•˜ë¯€ë¡œ `map`ì˜ ì½œë°± í•¨ìˆ˜ì— ë™ì‘í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.<br/>

#### (4) Someê³¼ None í´ë˜ìŠ¤ ì‚¬ìš©

ì•ì—ì„œ êµ¬í˜„í•œ `Option` í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì€ ì•„ë˜ì™€ ê°™ì´ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.<br/>

-   `test/Option-Test.ts`

```typescript
import { Option } from "../option/Option";

let m = Option.Some(1);
let value = m.map((value) => value + 1).getOrElse(1);
console.log(value); // 2

let n = Option.None;
value = n.map((value) => value + 1).getOrElse(0);
console.log(value); // 0
```

`Some` íƒ€ì…ì˜ ê°’ì¸ `1`ì€ `map`ì„ í†µí•´ `2`ë¡œ ë°”ë€Œê³  `getOrElse`ì— ì˜í•´ `value`ì—ëŠ” `2`ê°€ ì €ì¥ëœë‹¤.<br/>
ë°˜ë©´ì— `None` íƒ€ì… ë³€ìˆ˜ `n` ë˜í•œ `map` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<br/>
í•˜ì§€ë§Œ ì´ `map` ë©”ì„œë“œì˜ êµ¬í˜„ ë‚´ìš©ì€ ì½œë°± í•¨ìˆ˜ë¥¼ ì „í˜€ ì‹¤í–‰í•˜ì§€ ì•Šê³  `None` íƒ€ì… ê°ì²´ë§Œ ë°˜í™˜í•œë‹¤.<br/>
`None` íƒ€ì…ì€ `getOrElse` ë©”ì„œë“œëŠ” `defaultValue`ë¡œ ì „ë‹¬ëœ `0`ì„ ë°˜í™˜í•´ `value`ì— ì €ì¥ëœë‹¤.<br/>

### Option íƒ€ì…ê³¼ ì˜ˆì™¸ ì²˜ë¦¬

`Option` íƒ€ì…ì€ ë¶€ìˆ˜ íš¨ê³¼ê°€ ìˆëŠ” ë¶ˆìˆœ í•¨ìˆ˜ë¥¼ **ìˆœìˆ˜ í•¨ìˆ˜ë¡œ ë§Œë“œëŠ”ë° íš¨ê³¼ì **ì´ë‹¤.<br/>

#### Option íƒ€ì…ì„ parseInt í•¨ìˆ˜ì— ì ìš©í•˜ê¸°

`parseInt`ëŠ” ë¬¸ìì—´ì„ ìˆ˜ë¡œ ë§Œë“œëŠ”ë° ë¬¸ìì—´ì´ `hello`ì™€ ê°™ìœ¼ë©´ `NaN`ì„ ë°˜í™˜í•œë‹¤.<br/>
ì–´ë–¤ ê°’ì´ `NaN`ì¸ì§€ ì•Œê¸° ìœ„í•´ì„œëŠ” `isNaN` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ì•Œ ìˆ˜ ìˆë‹¤.<br/>
ì•„ë˜ì˜ `parseNumber` í•¨ìˆ˜ëŠ” `parseInt`ì˜ ë°˜í™˜ê°’ì´ `NaN`ì¸ì§€ì— ë”°ë¼ ë°˜í™˜ê°’ì´ ë‹¬ë¼ì§„ë‹¤.<br/>

-   `option/parseNumber.ts`

```typescript
import { Option } from "./Option";
import { IFunctor } from "./IFunctor";
import { IValuable } from "./IValuable";

export const parseNumber = (
    n: string
): IFunctor<number> & IValuable<number> => {
    const value = parseInt(n);

    return isNaN(value) ? Option.None : Option.Some(value);
};
```

`parseInt`ì˜ ë°˜í™˜ê°’ì´ `NaN`ì´ë©´ `Option.None`ì„ ë°˜í™˜í•˜ê³  ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ `Option.Some`ì„ ë°˜í™˜í•œë‹¤.<br/>
ì•„ë˜ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì‘ì„±í•œ `parseNumber` í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.<br/>

-   `test/parseNumber-Test.ts`

```typescript
import { parseNumber } from "../option/parseNumber";

let value = parseNumber("1")
    .map((value) => value + 1)
    .map((value) => value * 2)
    .getOrElse(0);

console.log(value); // 4

value = parseNumber("Hello")
    .map((value) => value + 1)
    .map((value) => value * 2)
    .getOrElse(0);

console.log(value); // 0
```

ê°’ì´ ì •ìƒì ìœ¼ë¡œ ë³€í™˜ì´ ë˜ë©´ `map` ë©”ì„œë“œê°€ ì •ìƒ ì‘ë™í•˜ê³  ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤.<br/>
ë”°ë¼ì„œ `1`ì„ ë³€í™˜ëœ ê°’ì˜ ìµœì¢…ê°’ì€ `4`ê°€ ë˜ê³  `Hello`ë¥¼ ë³€í™˜í•œ ê°’ì˜ ìµœì¢…ê°’ì€ `0`ì´ ëœë‹¤.<br/>

#### Option íƒ€ì…ì„ Json.parse í•¨ìˆ˜ì— ì ìš©í•˜ê¸°

Javascriptì˜ `JSON.parse` í•¨ìˆ˜ëŠ” ë§¤ê°œë³€ìˆ˜ê°€ ì •ìƒì ì¸ `JSON` í˜•íƒœê°€ ì•„ë‹ˆë©´ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.<br/>
ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¤ëŠ” í•¨ìˆ˜ëŠ” ë¶€ìˆ˜ íš¨ê³¼ê°€ ìˆëŠ” ë¶ˆìˆœ í•¨ìˆ˜ì§€ë§Œ ì•„ë˜ì˜ `parseJson` í•¨ìˆ˜ëŠ” **ìˆœìˆ˜í•¨ìˆ˜**ë‹¤.<br/>

-   `option/parseJson.ts`

```typescript
import { Option } from "./Option";
import { IFunctor } from "./IFunctor";
import { IValuable } from "./IValuable";

export const parseJson = <T>(json: string): IValuable<T> & IFunctor<T> => {
    try {
        const value = JSON.parse(json);
        return Option.Some<T>(value);
    } catch (e) {
        return Option.None;
    }
};
```

`parseJson` í•¨ìˆ˜ëŠ” `try/catch` êµ¬ë¬¸ê³¼ `Option`ì„ ì‚¬ìš©í•˜ì—¬ ë¶€ìˆ˜ íš¨ê³¼ê°€ ì—†ëŠ” **ìˆœìˆ˜ í•¨ìˆ˜**ê°€ ë˜ì—ˆë‹¤.<br/>
ì•„ë˜ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì‘ì„±í•œ `parseJson` í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.<br/>

-   `test/parseJson-Test.ts`

```typescript
import { parseJson } from "../option/parseJson";

const json = JSON.stringify({ name: "Jack", age: 32 });
let value = parseJson(json).getOrElse({});
console.log(value); // { name: 'Jack', age: 32 }

value = parseJson("hello world").getOrElse({});
console.log(value); // {}
```

`parseJson("hello world")`ê³¼ ê°™ì´ `JSON` í˜•íƒœê°€ ì•„ë‹Œ ë¬¸ìì—´ì„ ë³€í™˜í•´ë„ ë¹„ì •ìƒ ì¢…ë£Œë˜ì§€ ì•ŠëŠ”ë‹¤.<br/>
`Option.None`ì´ ë°˜í™˜ë˜ë©´ì„œ `getOrElse` í•¨ìˆ˜ì˜ ì¸ìì¸ `{}`ê°€ ë°˜í™˜ë˜ì–´ ì¶œë ¥ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.<br/>

[[ğŸ”ìœ„ë¡œê°€ê¸°]](#10ì¥-ì œë„¤ë¦­-í”„ë¡œê·¸ë˜ë°)&nbsp; / &nbsp;[[ğŸ”™ë’¤ë¡œê°€ê¸°]](https://github.com/alstn2468/DoIt_Typescript_Programming/blob/master/README.md)
